from aiogram import Router, F
from aiogram.types import Message
from aiogram.filters import Command
from aiogram.fsm.context import FSMContext

from keyboards.main_keyboard import get_main_keyboard

router = Router()

@router.message(Command("start"))
async def cmd_start(message: Message, state: FSMContext):
    await state.clear()

    user = message.from_user

    # –ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å ‚Äî —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∏ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    await message.answer(
        f"üïä –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {user.first_name}.\n\n"
        f"–í—ã –æ–±—Ä–∞—Ç–∏–ª–∏—Å—å –≤ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ <b>¬´–ï–≤—Ä–æ–°–µ—Ä–≤–∏—Å¬ª</b>.\n"
        f"–ú—ã –æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ—Ö–æ—Ä–æ–Ω, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, "
        f"—É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–∞–º—è—Ç–Ω–∏–∫–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–∏ <b>–£–≥–æ–ª–∫–æ–≤ –ø–∞–º—è—Ç–∏</b>.\n\n"
        f"–ö–∞–∂–¥–∞—è –∏—Å—Ç–æ—Ä–∏—è ‚Äî –æ—Å–æ–±–µ–Ω–Ω–∞—è. –ú—ã —Ä—è–¥–æ–º, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º —Å —É–≤–∞–∂–µ–Ω–∏–µ–º –∫ —á—É–≤—Å—Ç–≤–∞–º –∏ –ø–∞–º—è—Ç–∏ –±–ª–∏–∑–∫–∏—Ö."
    )

    # –í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å ‚Äî –º–µ–Ω—é
    await message.answer(
        f"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é –Ω–∏–∂–µ.\n\n"
        f"–ï—Å–ª–∏ –≤—ã –Ω–µ —É–≤–µ—Ä–µ–Ω—ã, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å ‚Äî –Ω–∞–∂–º–∏—Ç–µ <b>¬´–ü–æ–º–æ—â—å¬ª</b>.",
        reply_markup=get_main_keyboard()
    )

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ ¬´üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª
@router.message(F.text == "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é")
async def cmd_home(message: Message, state: FSMContext):
    await state.clear()
    # –ü–æ–≤—Ç–æ—Ä—è–µ–º –ª–æ–≥–∏–∫—É –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
    await message.answer(
        "–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.",
        reply_markup=get_main_keyboard()
    )

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã –∏ –∫–Ω–æ–ø–∫–∏ /help –∏ ¬´–ü–æ–º–æ—â—å¬ª
@router.message(F.text == "‚ÑπÔ∏è –ü–æ–º–æ—â—å")
@router.message(F.text == "–ü–æ–º–æ—â—å")
@router.message(Command("help"))
async def cmd_help(message: Message, state: FSMContext):
    await state.clear()
    await message.answer(
        "–í–æ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ –∫–Ω–æ–ø–æ–∫:\n"
        "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Äî –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –Ω–∞—á–∞–ª–æ\n"
        "üèõÔ∏è –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ—Ö–æ—Ä–æ–Ω ‚Äî –ø–æ–¥–±–æ—Ä —É—Å–ª—É–≥\n"
        "ü§ñ AI-–ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º ‚Äî —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏\n"
        "üõçÔ∏è –¢–æ–≤–∞—Ä—ã ‚Äî –∫–∞—Ç–∞–ª–æ–≥ —Ä–∏—Ç—É–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤\n"
        "üïØÔ∏è –£–≥–æ–ª–æ–∫ –ø–∞–º—è—Ç–∏ ‚Äî —Å–æ–∑–¥–∞—Ç—å –º–µ–º–æ—Ä–∏–∞–ª\n"
        "üë§ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Äî –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∞—Å –≤ —Å–∏—Å—Ç–µ–º–µ\n\n"
        "–ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—É—é –∫–Ω–æ–ø–∫—É –≤–Ω–∏–∑—É.",
        reply_markup=get_main_keyboard()
    )
